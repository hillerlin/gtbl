<script type="text/javascript">
function do_open_layout(event, treeId, treeNode) {
//    if (treeNode.isParent) {
//        var zTree = $.fn.zTree.getZTreeObj(treeId)
//        
//        zTree.expandNode(treeNode)
//        return
//    }
    $(event.target).bjuiajax('doLoad', {url:treeNode.url, target:treeNode.divid})
    
    event.preventDefault()
}
</script>
<div class="bjui-pageContent">
    <div style="float:left; width:250px;">
        <ul id="layout-tree" class="ztree" data-toggle="ztree" data-expand-all="true" data-on-click="do_open_layout">
            <volist name="file_tree" id="m1">
                <li data-id="{$m1.file_id}" data-pid="{$m1.pid}" data-url="<?php echo U('project/upload',array('pro_id'=>$pro_id,'file_id'=>$m1['file_id']))?>" data-divid="#layout-01">{$m1.file_name}</li>
                <volist name="m1.sub" id="m2">
                <li data-id="{$m2.file_id}" data-pid="{$m2.pid}" data-url="<?php echo U('project/upload',array('pro_id'=>$pro_id,'file_id'=>$m2['file_id']))?>" data-divid="#layout-01">{$m2.file_name}</li>
                    <volist name="m2.sub" id="m3">
                    <li data-id="{$m3.file_id}" data-pid="{$m3.pid}" data-url="<?php echo U('project/upload',array('pro_id'=>$pro_id,'file_id'=>$m3['file_id']))?>" data-divid="#layout-01">{$m3.file_name}</li>
                    </volist>
                </volist>
            </volist>
        </ul>
    </div>
    <div style="margin-left:210px; height:99.9%; width: 50%; overflow:hidden;">
        <div style="height:100%; overflow:hidden;">
            <fieldset style="height:100%;">
                <legend>文件</legend>
                <div id="layout-01" style="height:94%; overflow:hidden;">
                    
                </div>
            </fieldset>
        </div>
    </div>
</div>